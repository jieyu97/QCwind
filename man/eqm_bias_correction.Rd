% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/eqm_bias_correction.R
\name{eqm_bias_correction}
\alias{eqm_bias_correction}
\title{Calibrating the bias of observed data by empirical quantile mapping method}
\usage{
eqm_bias_correction(
  train.obs,
  train.datetime,
  test.obs,
  test.datetime,
  true.quantiles
)
}
\arguments{
\item{train.obs}{a numeric vector of training observed data to build the bias correction model.}

\item{train.datetime}{a sequence of timestamps in \code{train.obs}.}

\item{test.obs}{a numeric vector of test observed data to be calibrated, could be the same as \code{train.obs}.}

\item{test.datetime}{a sequence of timestamps in \code{test.obs}.}

\item{true.quantiles}{a list of six numeric vectors of the "truth" quantiles to build the
bias correction model, the corresponding cumulative probability stamps must be evenly spreaded
between 0 and 1. If not satisfied,
a pseudo "truth" observation numeric vector satisfying the quantiles should be provided.
We suggest using quantiles with cumulative probability from 0.01 to 1 with interval length 0.01
(100 quantiles in total).
We use Weibull distribution with maximum likelihood estimation to fit these quantiles
(in R package fitdistrplus).}
}
\value{
a numeric vector that contains the corrected \code{test_after_bc} for the test data.
}
\description{
Performing empirical quantile distribution mapping to correct bias in the observation data,
the "truth" quantiles are given as reference data.
}
\examples{
bc_train_obs = c(0:8,0,1,2,3,4,5,0,2,3,1,9)
bc_true_quantiles = c(0.1,1,3,5,7,8,9,9.1,9.2,9.3)
bc_test_obs = c(5,6,7)
bc_test_corrected = bias_correction(bc_train_obs, bc_test_obs, bc_true_quantiles)
}
